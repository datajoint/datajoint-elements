<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">

    
    <title>Miniscope - DataJoint Elements</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../css/base.min.css" rel="stylesheet">
    <link href="../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    
    <link href="../../extra.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="../..">DataJoint Elements</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../publications/">Publications</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../projects/">Projects</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Usage <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../usage/design-principles/">Design Principles</a>
</li>

                        
                            
<li >
    <a href="../../usage/adopt/">Adopt</a>
</li>

                        
                            
<li >
    <a href="../../usage/install/">Setup</a>
</li>

                        
                            
<li >
    <a href="../../usage/glossary/">Glossary</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Element Descriptions <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../lab/">Lab</a>
</li>

                        
                            
<li >
    <a href="../animal/">Animal</a>
</li>

                        
                            
<li >
    <a href="../session/">Session</a>
</li>

                        
                            
<li >
    <a href="../event/">Event</a>
</li>

                        
                            
<li >
    <a href="../array_ephys/">Array Electrophysiology</a>
</li>

                        
                            
<li >
    <a href="../electrode_localization/">Electrode localization</a>
</li>

                        
                            
<li >
    <a href="../calcium_imaging/">Calcium Imaging</a>
</li>

                        
                            
<li class="active">
    <a href="./">Miniscope</a>
</li>

                        
                            
<li >
    <a href="../deeplabcut/">Deeplabcut</a>
</li>

                        
                            
<li >
    <a href="../facemap/">Facemap</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../community/contribute/">Contribution Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../community/nwb/">NWB</a>
</li>

                        
                            
<li >
    <a href="../../community/support/">Support</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Management and Policies <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../management/plan/">Management Plan</a>
</li>

                        
                            
<li >
    <a href="../../management/team/">Team</a>
</li>

                        
                            
<li >
    <a href="../../management/governance/">Project Governance</a>
</li>

                        
                            
<li >
    <a href="../../management/selection/">Project Selection Process</a>
</li>

                        
                            
<li >
    <a href="../../management/quality-assurance/">Quality Assurance</a>
</li>

                        
                            
<li >
    <a href="../../management/outreach/">Outreach Plan</a>
</li>

                        
                            
<li >
    <a href="../../management/licenses/">Licenses and User Agreements</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#miniscope">Miniscope</a></li>
            <li class="second-level"><a href="#description-of-modality-user-population">Description of modality, user population</a></li>
                
            <li class="second-level"><a href="#acquisition-tools">Acquisition tools</a></li>
                
            <li class="second-level"><a href="#preprocessing-tools">Preprocessing tools</a></li>
                
            <li class="second-level"><a href="#key-projects">Key projects</a></li>
                
            <li class="second-level"><a href="#pipeline-development">Pipeline Development</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="miniscope">Miniscope</h1>
<h2 id="description-of-modality-user-population">Description of modality, user population</h2>
<p>Miniature fluorescence microscopes (miniscopes) are a head-mounted calcium imaging full-frame video modality first introduced in 2005 by Mark Schnitzer's lab (<a href="https://pubmed.ncbi.nlm.nih.gov/16190441/">Flusberg et al., Optics Letters 2005</a>). Due to their light weight, these miniscopes allow measuring the dynamic activity of populations of cortical neurons in freely behaving animals. In 2011, Inscopix Inc. was founded to support one-photon miniscopes as a commercial neuroscience research platform, providing proprietary hardware, acquisition software, and analysis software. Today, they estimate their active user base is 491 labs with a total of 1179 installs. An open-source alternative was launched by a UCLA team led by Daniel Aharoni and Peyman Golshani (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5063500/">Cai et al., Nature 2016</a>; <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6461004/">Aharoni and Hoogland, Frontiers in Cellular Neuroscience 2019</a>). In our conversation with Dr. Aharoni, he estimated about 700 labs currently using the UCLA system alone.  The Inscopix user base is smaller but more established. Several two-photon miniscopes have been developed but lack widespread adoption likely due to the expensive hardware required for the two-photon excitation (<a href="https://pubmed.ncbi.nlm.nih.gov/11580892/">Helmchen et al., Neuron 2001</a>; <a href="https://pubmed.ncbi.nlm.nih.gov/28553965/">Zong et al., Nature Methods 2017</a>; <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6461004/">Aharoni and Hoogland, Frontiers in Cellular Neuroscience 2019</a>).  Due to the low costs and ability to record during natural behaviors, one-photon miniscope imaging appears to be the fastest growing calcium imaging modality in the field today.  In Year 1, we focused our efforts on supporting the UCLA platform due its fast growth and deficiency of standardization in acquisition and processing pipelines. In future phases, we will reach out to Inscopix to support their platform as well.</p>
<h2 id="acquisition-tools">Acquisition tools</h2>
<p>Daniel Aharoni's lab has developed iterations of the UCLA Miniscope platform.  Based on interviews, we have found labs using the two most recent versions including <a href="http://miniscope.org/index.php/Information_on_the_(previous_Version_3)_Miniscope_platform">Miniscope DAQ V3</a> and <a href="https://github.com/Aharoni-Lab/Miniscope-v4/wiki">Miniscope DAQ V4</a>.  Labs also use the Bonsai OpenEphys tool for data acquisition with the UCLA miniscope.  Inscopix provides the Inscopix Data Acquisition Software (IDAS) for the nVista and nVoke systems.</p>
<h2 id="preprocessing-tools">Preprocessing tools</h2>
<p>The preprocessing workflow for miniscope imaging includes denoising, motion correction, cell segmentation, and calcium event extraction (sometimes described as "deconvolution" or "spike inference").  For the UCLA Miniscopes, the following <a href="https://github.com/Aharoni-Lab/Miniscope-v4/wiki/Analysis-Packages">analysis packages</a> are commonly used:</p>
<p>(Package, Developer [Affiliation], Programming Language)</p>
<ul>
<li><a href="https://github.com/Aharoni-Lab/Miniscope-v4/wiki/Removing-Horizontal-Noise-from-Recordings">Miniscope Denoising</a>, Daniel Aharoni (UCLA), Python</li>
<li><a href="https://github.com/flatironinstitute/NoRMCorre">NoRMCorre</a>, Flatiron Institute, MATLAB</li>
<li><a href="https://github.com/zhoupc/CNMF_E">CNMF-E</a>, Pengcheng Zhou (Liam Paninski’s Lab, Columbia University), MATLAB</li>
<li><a href="https://github.com/flatironinstitute/CaImAn">CaImAn</a>, Flatiron Institute, Python</li>
<li><a href="https://github.com/PeyracheLab/miniscoPy">miniscoPy</a>, Guillaume Viejo (Adrien Peyrache’s Lab, McGill University), Python</li>
<li><a href="https://github.com/JinghaoLu/MIN1PIPE">MIN1PIPE</a>, Jinghao Lu (Fan Wang’s Lab, MIT), MATLAB</li>
<li><a href="https://github.com/bahanonu/calciumImagingAnalysis">CIAtah</a>, Biafra Ahanonu, MATLAB</li>
<li><a href="https://github.com/DeniseCaiLab/minian">MiniAn</a>, Phil Dong (Denise Cai's Lab, Mount Sinai), Python</li>
<li><a href="https://github.com/etterguillaume/MiniscopeAnalysis">MiniscopeAnalysis</a>, Guillaume Etter (Sylvain Williams’ Lab, McGill University), MATLAB</li>
<li><a href="https://github.com/etterguillaume/PIMPN">PIMPN</a>, Guillaume Etter (Sylvain Williams’ Lab, McGill University), Python</li>
<li><a href="https://github.com/zivlab/CellReg">CellReg</a>, Liron Sheintuch (Yaniv Ziv’s Lab, Weizmann Institute of Science), MATLAB</li>
<li>Inscopix Data Processing Software (IDPS)</li>
<li>Inscopix Multimodal Image Registration and Analysis (MIRA)</li>
</ul>
<p>Based on interviews with UCLA and Inscopix miniscope users and developers, each research lab uses a different preprocessing workflow.  These custom workflows are often closed source and not tracked with version control software.  For the preprocessing tools that are open source, they are often developed by an individual during their training period and lack funding for long term maintenance.  These factors result in a lack of standardization for miniscope preprocessing tools, which is a major obstacle to adoption for new labs.</p>
<h2 id="key-projects">Key projects</h2>
<p>Until recently, DataJoint had not been used for miniscope pipelines. However, labs we have contacted have been eager to engage and adopt DataJoint-based workflows in their labs.</p>
<ul>
<li>Adrien Peyrache Lab, McGill University</li>
<li>Peyman Golshani Lab, UCLA</li>
<li>Daniel Aharoni Lab, UCLA</li>
<li>Anne Churchland Lab, UCLA</li>
<li>Fan Wang Lab, MIT</li>
<li>Antoine Adamantidis Lab, University of Bern</li>
<li>Manolis Froudaraki Lab, FORTH</li>
<li>Allan Basbaum Lab, UCSF</li>
</ul>
<h2 id="pipeline-development">Pipeline Development</h2>
<p>With assistance from Peyman Golshani’s Lab (UCLA) we have added support for the UCLA Miniscope DAQ V3 acquisition tool and MiniscopeAnalysis preprocessing tool in <code>element-miniscope</code> and <code>workflow-miniscope</code>.  They have provided example data for development, and will begin validating in March 2021.</p>
<p>Based on interviews, we are considering adding support for the tools listed below.  The deciding factors include the number of users, long term support, quality controls, and python programming language (so that the preprocessing tool can be triggered within the element).</p>
<ul>
<li>Acquisition tools
    + Miniscope DAQ V4
    + Inscopix Data Acquisition Software (IDAS)</li>
<li>Preprocessing tools
    + Inscopix Data Processing Software (IDPS)
    + Inscopix Multimodal Image Registration and Analysis (MIRA)
    + MiniAn
    + CaImAn
    + CNMF-E
    + CellReg</li>
</ul></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
<hr>
<p>
<small>&copy; DataJoint, 2022.</small>

</p>

      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = "../.."</script>
    
    <script src="../../js/base.js"></script>

    <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
