<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">

    
    <title>Calcium Imaging - DataJoint Elements</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../css/base.min.css" rel="stylesheet">
    <link href="../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    
    <link href="../../extra.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="../..">DataJoint Elements</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../publications/">Publications</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../projects/">Projects</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Usage <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../usage/design-principles/">Design Principles</a>
</li>

                        
                            
<li >
    <a href="../../usage/adopt/">Adopt</a>
</li>

                        
                            
<li >
    <a href="../../usage/install/">Setup</a>
</li>

                        
                            
<li >
    <a href="../../usage/glossary/">Glossary</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Element Descriptions <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../lab/">Lab</a>
</li>

                        
                            
<li >
    <a href="../animal/">Animal</a>
</li>

                        
                            
<li >
    <a href="../session/">Session</a>
</li>

                        
                            
<li >
    <a href="../event/">Event</a>
</li>

                        
                            
<li >
    <a href="../array_ephys/">Array Electrophysiology</a>
</li>

                        
                            
<li >
    <a href="../electrode_localization/">Electrode localization</a>
</li>

                        
                            
<li class="active">
    <a href="./">Calcium Imaging</a>
</li>

                        
                            
<li >
    <a href="../miniscope/">Miniscope</a>
</li>

                        
                            
<li >
    <a href="../deeplabcut/">Deeplabcut</a>
</li>

                        
                            
<li >
    <a href="../facemap/">Facemap</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../community/contribute/">Contribution Guidelines</a>
</li>

                        
                            
<li >
    <a href="../../community/nwb/">NWB</a>
</li>

                        
                            
<li >
    <a href="../../community/support/">Support</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Management and Policies <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../management/plan/">Management Plan</a>
</li>

                        
                            
<li >
    <a href="../../management/team/">Team</a>
</li>

                        
                            
<li >
    <a href="../../management/governance/">Project Governance</a>
</li>

                        
                            
<li >
    <a href="../../management/selection/">Project Selection Process</a>
</li>

                        
                            
<li >
    <a href="../../management/quality-assurance/">Quality Assurance</a>
</li>

                        
                            
<li >
    <a href="../../management/outreach/">Outreach Plan</a>
</li>

                        
                            
<li >
    <a href="../../management/licenses/">Licenses and User Agreements</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#calcium-imaging">Calcium Imaging</a></li>
            <li class="second-level"><a href="#description-of-modality-user-population">Description of modality, user population</a></li>
                
            <li class="second-level"><a href="#acquisition-tools">Acquisition tools</a></li>
                
                <li class="third-level"><a href="#hardware">Hardware</a></li>
                <li class="third-level"><a href="#software">Software</a></li>
            <li class="second-level"><a href="#preprocessing-toolchain-development-teams">Preprocessing toolchain: development teams</a></li>
                
            <li class="second-level"><a href="#key-projects">Key projects</a></li>
                
            <li class="second-level"><a href="#pipeline-development">Pipeline Development</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="calcium-imaging">Calcium Imaging</h1>
<h2 id="description-of-modality-user-population">Description of modality, user population</h2>
<p>Over the past two decades, in vivo two-photon laser-scanning imaging of calcium signals 
has evolved into a mainstream modality for neurophysiology experiments to record population activity in intact neural circuits. 
The tools for signal acquisition and analysis continue to evolve but common patterns and elements of standardization have emerged.</p>
<h2 id="acquisition-tools">Acquisition tools</h2>
<h3 id="hardware">Hardware</h3>
<p>The primary acquisition systems are: 
+ Sutter (we estimate 400 rigs in active use - TBC)
+ Thorlabs  (we estimate 400 rigs in active use - TBC)
+ Bruker  (we estimate 400 rigs in active use - TBC)
+ Neurolabware (we estimate 400 rigs in active use - TBC)</p>
<p>We do not include Miniscopes in these estimates. 
In all there are perhaps on the order of 3000 two-photon setups globally but their processing needs may need to be further segmented.</p>
<h3 id="software">Software</h3>
<ul>
<li>ScanImage</li>
<li>ThorImageLS</li>
<li>Scanbox</li>
</ul>
<p>Vidrioâ€™s <a href="https://docs.scanimage.org/">ScanImage</a> is the data acquisition software for two types of home-built scanning two-photon systems, 
either based on Thorlabs and Sutter hardware. ScanImage has a free version and a licensed version. 
Thorlabs also provides their own acquisition software - ThorImageLS (probably half of the systems).</p>
<h2 id="preprocessing-toolchain-development-teams">Preprocessing toolchain: development teams</h2>
<p>The preprocessing workflow for two-photon laser-scanning microscopy includes 
motion correction (rigid or non-rigid), cell segmentation, and calcium event extraction 
(sometimes described as "deconvolution" or "spike inference"). 
Some include raster artifact correction, cropping and stitching operations. </p>
<p>Until recently, most labs have developed custom processing pipelines, sharing them with others as academic open-source projects. 
Recently, a few leaders have emerged as standardization candidates for the initial preprocessing.</p>
<ul>
<li><a href="https://github.com/flatironinstitute/CaImAn">CaImAn</a> (Originally developed by Andrea Giovannucci, current support by FlatIron Institute: Eftychios A. Pnevmatikakis, Johannes Friedrich)</li>
<li><a href="https://github.com/MouseLand/suite2p">Suite2p</a> (Carsen Stringer and Marius Pachitariu at Janelia), 200+ users, active support</li>
</ul>
<h2 id="key-projects">Key projects</h2>
<p>Over the past few years, several labs have developed DataJoint-based data management and processing pipelines for two-photon Calcium imaging. 
Our team collaborated with several of them during their projects. 
Additionally, we interviewed these teams to understand their experiment workflow, pipeline design, associated tools, and interfaces. </p>
<p>These teams include:
+ MICrONS (Andreas Tolias Lab, BCM) - <a href="https://github.com/cajal">https://github.com/cajal</a>
+ BrainCoGs (Princeton) - <a href="https://github.com/BrainCOGS">https://github.com/BrainCOGS</a>
+ Moser Group (Kavli Institute/NTNU) - private repository
+ Anne Churchland Lab (UCLA)</p>
<h2 id="pipeline-development">Pipeline Development</h2>
<p>Through our interviews and direct collaboration on the precursor projects, 
we identified the common motifs to create the Calcium ImagingElement 
with the repository hosted at <a href="https://github.com/datajoint/element-calcium-imaging">https://github.com/datajoint/element-calcium-imaging</a>.</p>
<p>Major features of the Calcium Imaging Element include:
+ Pipeline architecture defining:
    + Calcium-imaging scanning metadata, also compatible with mesoscale imaging and multi-ROI scanning mode
    + Tables for all processing steps: motion correction, segmentation, cell spatial footprint, fluorescence trace extraction, spike inference and cell classification
    + Store/track/manage different curations of the segmentation results
+ Ingestion support for data acquired with ScanImage and Scanbox acquisition systems
+ Ingestion support for processing outputs from both Suite2p and CaImAn analysis suites
+ Sample data and complete test suite for quality assurance</p>
<p>The processing workflow is typically performed on a per-scan basis, 
however, depending on the nature of the research questions, 
different labs may opt to perform processing/segmentation on a concatenated set of data from multiple scans. 
To this end, we have extended the Calcium Imaging Element and provided a design version capable of supporting a multi-scan processing scheme.</p></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
<hr>
<p>
<small>&copy; DataJoint, 2022.</small>

</p>

      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = "../.."</script>
    
    <script src="../../js/base.js"></script>

    <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
